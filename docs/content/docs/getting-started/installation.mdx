---
title: 'Installation'
description: "It is plumeria's installing, compiler, integration setup"
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Step, Steps } from "fumadocs-ui/components/steps";

<Steps>
<Step>
## Installing `core`
The **phantom-runtime** distribution size is **less than `200B`** for min + `brotli`.
<Tabs items={['npm', 'yarn', 'pnpm']}>
  {/* prettier-ignore */}
  <Tab>
    ```sh title="Terminal"
    npm i -D @plumeria/core
    ```
  </Tab>
  {/* prettier-ignore */}
  <Tab>
    ```sh title="Terminal"
    yarn add -D @plumeria/core
    ```
  </Tab>
  {/* prettier-ignore */}
  <Tab>
    ```sh title="Terminal"
    pnpm i -D @plumeria/core
    ```
  </Tab>
</Tabs>

</Step>

<Step>

## Setup
The plumerialint command installs [`@plumeria/eslint-plugin`](/docs/getting-started/editor-integration).   
`oxlint` is required to run the `plumerialint` command.  
By running it in parallel with the build, errors are detected with zero runtime.
```sh
pnpm i -D oxlint
```
For `Next`, we recommend running rimraf to clean up the cache to accommodate the differences between versions:
<Tabs items={["Next.js", "Vite"]}>
<Tab>
```json title="package.json"
  "scripts": {
    "predev": "rimraf .next",
    "prebuild": "rimraf .next",
    "dev": "next dev",
    "build": "plumerialint & next build",
    "start": "next start",
  },
```

</Tab>
<Tab>
```json title="package.json"
  "scripts": {
    "dev": "vite",
    "build": "plumerialint & tsc -b && vite build", 
  },
```
</Tab>
</Tabs>

</Step>

<Step>
## Integration

</Step>

## Next.js

<Tabs items={["npm", "yarn", "pnpm"]}>
  {/* prettier-ignore */}
  <Tab>
    ```sh title="Terminal"
    npm i -D @plumeria/next-plugin @plumeria/postcss-plugin
    ```
  </Tab>
  <Tab>
    ```sh title="Terminal"
    yarn add -D @plumeria/next-plugin @plumeria/postcss-plugin
    ```
  </Tab>
  <Tab>
    ```sh title="Terminal"
    pnpm add -D @plumeria/next-plugin @plumeria/postcss-plugin
    ```
  </Tab>
</Tabs>

### postcss.config.js
Reduce build times by narrowing the scope using `include` and `exclude`.
```js title="postcss.config.js"
/* application root */
module.exports = {
  plugins: {
    '@plumeria/postcss-plugin': {
      // use src directory
      include: ['./src/**/*.{ts,tsx}'],
      exclude: ['**/node_modules/**', '**/.next/**'],
    },
  },
};
```

### CSS extraction marke
Inclulde css file `@plumeria` marke.  
Atomic css is aggregated at build time into marked css files.
```css title="css"
/* app/global.css */ 
/* import in app/layout.tsx */
@plumeria;
...
```

### Turbopack next.config
```ts title="next.config.ts"
import type { NextConfig } from "next";
import { withPlumeria } from "@plumeria/next-plugin/turbopack"; // [!code ++]

const nextConfig: NextConfig = {
  /* config options here */
};

export default withPlumeria(nextConfig);
```

### Webpack next.config
```ts title="next.config.ts"
import type { NextConfig } from "next";
import { withPlumeria } from "@plumeria/next-plugin"; // [!code ++]

const nextConfig: NextConfig = {
   /* turbopack: {} may be required */
};

export default withPlumeria(nextConfig); 
```

```json
"dev": "next dev --webpack",
"build": "next build --webpack",
```
---

## Vite
<Tabs items={["npm", "yarn", "pnpm"]}>
  {/* prettier-ignore */}
  <Tab>
    ```sh title="Terminal"
    npm i -D @plumeria/vite-plugin
    ```
  </Tab>
  <Tab>
    ```sh title="Terminal"
    yarn add -D @plumeria/vite-plugin
    ```
  </Tab>
  <Tab>
    ```sh title="Terminal"
    pnpm add -D @plumeria/vite-plugin
    ```
  </Tab>
</Tabs>
Place it before any other plugins.  
That's all the settings.

### vite.config
```ts title="vite.config.ts"
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react-swc';
import { plumeria } from '@plumeria/vite'; // [!code ++]

export default defineConfig({
  plugins: [plumeria(), react()],
});

```
<Cards>
  <Card title="See more about @plumeria/vite-plugin package" href="/docs/integration/vite" />
  <Card title="See more about @plumeria/next-plugin package" href="/docs/integration/next" />
</Cards>
</Steps>